---
layout: post
title: 'Patching the C65 ROM for the MEGA65'
date: 2021-12-04
author: 'Steven B. Combs, Ph.D.'
email: 'retrocombs@icloud.com'
comments: yes
permalink: patch-c65-rom
category: mega65
---

I've made mention in several blog posts and videos that the closed ROM for the MEGA65 is available to purchasers of a [MEGA65](https://www.mega65.org) or [Dev Kit](https://www.stevencombs.com/mega65-1) and others must use the [open ROM](https://files.mega65.org?id=8aec2fba-3b0a-4677-80ae-7a7f5f4f0cb8); which is not yet ready for prime time. Since the open ROM needs to bake, using it means mixed results if you want to try the free [Xemu emulator](https://www.stevencombs.com/xemu-on-mac) or the less expensive [Nexys4 FPGA](https://www.stevencombs.com/mega65-nexys4-livestream). Let's make those experiences better. We can search and download the original Commodore 65 ROM and then patch that file with tools created by the MEGA65 team.

Before you read the rest of this post, take a look at my companion video below.

----

**Table of Contents** 

- [Companion YouTube Video](#companion-youtube-video)
- [Video Errata](#video-errata)
- [Links Mentioned in this Episode](#links-mentioned-in-this-episode)
- [Obtain Original C65 ROM](#obtain-original-c65-rom)
- [Download Patch Tools](#download-patch-tools)
- [Download the C65 ROM Diff File](#download-the-c65-rom-diff-file)
- [Patch ROM](#patch-rom)
- [ROM file updates](#rom-file-updates)
- [Use Patched ROM](#use-patched-rom)
    - [MEGA65 and Nexys4 FPGA](#mega65-and-nexys4-fpga)
    - [Xemu](#xemu)
- [Final Thoughts](#final-thoughts)
- [Join the Fun](#join-the-fun)

<!-- Table of contents generator: https://ecotrust-canada.github.io/markdown-toc/ NOTE: Add two spaces for sub bullets -->

----

## Companion YouTube Video

Title: _Patch the Original Commodore 65 ROM \| Use with Nexys4 & Xemu_

In the video below, I demonstrate how to find, download, patch, and use the original C65 ROM with Xemu, a Nexys4, and on a MEGA65.

<div style="position:relative;padding-top:56.25%;"><p><iframe src="link" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></p></div>

## Video Errata

None as of 2021-12-04.

## Links Mentioned in this Episode

Below are the links I mention in this blog post and companion video. All Amazon links are affiliate links. A huge thank you for your support of the blog and the YouTube channel by starting your purchases here!

1. [Item](link)

## Obtain Original C65 ROM

The original Commodore 65 was in prototype form in 1991. Meant to be the last of the 8-bit line for Commodore, this computer unfortunately never saw the light of day; however, owners fortunate enough to obtain a prototype have dumped the ROM file contents and shared them online. I'll not share where you can find these ROMs; however, below are steps to get your search started.

> NOTE: As an owner of a MEGA65 Dev Kit, I now own a license for the C65 ROM. More on this topic later.

1. Open a browser and navigate to your favorite search engine such as [Google](https://www.google.com) or [Duck Duck Go](https://www.duckduckgo.com) (preferred).
2. Search for `911001.BIN`.
3. If you find a page that has multiple C65 ROMs, download one with the specific name listed in step 2.
4. Make a copy of the file with the name `911001_archive.BIN` in case you need a copy of the original ROM file.
5. Place the `911001.BIN` file on your desktop or other easy to find location.

With an original ROM file on-hand, time to patch it and add the new features and functions of the MEGA65.

> **<font color="red">WARNING:</font>** Downloading and patching the C65 ROM files is a legal sticky wicket. I share this process as part of an educational resource; however, in order to use the original ROM, you need to own a MEGA65, Dev Kit, or an original C65 (you have one in your closet, right?). [Cloanto](http://www.c64forever.com) owns the rights to C65 ROMs but does not include them in their C64 Forever license. Because of this odd license issue for an abandoned 30-year old ROM, I take no responsibility for your illegal use of original C65 ROMs.

## Download Patch Tools

There are a couple of ways to patch the original ROM; however, I'll share the easiest GUI method using M65 Connect. Since M65Connect is available for Mac, Linux, and Windows, everyone will be able to patch the C65 ROM. Let's download a copy of M65Connect.

1. Use a web browser and visit the MEGA65 FileHost at <https://files.mega65.org>.
2. Click the *Files* button in the upper-left corner of the page.
3. In the *File search‚Ä¶* box, type `M65Co` and a list of M65Connect versions will display.
4. Click the download button \|<u>‚Üì</u>\| in the row that matches the operating systems you use.
5. Install the application.

We are now ready to patch the original C65 ROM.

## Download the C65 ROM Diff File

1. Return to the *Files* area of the *FileHost* in your browser.
2. In the *File search‚Ä¶* box, type `‚Äådiff files` and the ROM patch file named `C65 ROM diff files` will appear.
3. Click the download button \|<u>‚Üì</u>\| and save the diff file in the same location as the original C65 ROM file.

Let's patch the original ROM with the diff file.

> **NOTE:** If you click the diff file title on the FileHost additional information about the page k

## Patch ROM

M65Connect makes patching the original C65 ROM a point and click process.

1. Load the M65Connect application.
2. From the main menu, select *File* \| *Patch ROM File* and the Patch ROM file dialog box will appear as shown below:

    ![Patch ROM File dialog box](https://www.stevencombs.com/images/mega65/patch-rom-dialog.png)
    
3. Select the *Source ROM File* by clicking the folder button üìÅ to the right of the text box to display a file selection dialog box.
4. Navigate to the location of the original C65 ROM file named `911001.BIN` and select.
5. Select the *ROM Patch File* by clicking the folder button üìÅ to the right of the text box to display a file selection dialog box.
6. Navigate to the location of the diff file with a name similar to `920262.BDF` and select.
7. Verify the names in the text boxes are correct.
8. Click the *Save patched ROM as‚Ä¶* button and the *Save patched ROM file as‚Ä¶* dialog box will appear.
9. Save the file as `MEGA65.BIN` and press the *Save* button and the new file will be saved to the same location as the two original files.

The resultant `MEGA65.BIN` file is now ready to use.

## ROM file updates

Update the patched ROM when the MEGA65 team releases new diff files. There are three ways to do this:

1. Use the same steps found in the previous section to update the original ROM.
2. Use the same steps found in the previous section to update the recent patched ROM. 
3. **Coming Soon!** Copy the diff file to an SD Card and use the *Freezer* on a MEGA65 to patch the ROM file.

## Use Patched ROM

If you use a hardware device, rename `MEGA65.BIN` to `MEGA65.ROM`. These devices look for this file on the SD card.

### MEGA65 and Nexys4 FPGA

1. Rename `MEGA65.BIN` to `MEGA65.ROM`.
2. Copy the ROM file to the SD Card. Overwrite the existing ROM file or rename that file to retain a working copy if things go wrong.
3. Place the SD card into the MEGA65 or Nexys4.
4. Boot the device and the diff file name similar to (920262) will appear as the current ROM on the MEGA65 start screen as shown in the image below:

    ![Verify the ROM on the MEGA65 Start Screen](https://www.stevencombs.com/images/mega65/verify-rom.png)

### Xemu

1. Rename `MEGA65.BIN` to `MEGA65.ROM`.
2. Load the *xmega65* Xemu application.
3. Right-click anywhere on the *xmega65* window and menu items will appear as shown in the image below:

    ![xMEGA Menus](https://www.stevencombs.com/images/mega65/xemu-menu-update-sd-card.png)
    
4. Select *SD-card* \| *Update file on SD image* and a browse file dialog box will appear.
5. Select the patched ROM file. 
6. Click *Open* and the ROM update verification dialog box shown below will display.

    ![Update ROM dialog box](https://raw.githubusercontent.com/stevencombs/stevencombs.github.io/2708d2c4ddae7e65aef332708732c3be78bf0ca7/images/mega65/xemu-rom-update-verification.png)
    
7. Click the *OK* button and *xmega65* will update the virtual SD card, reboot with the patched ROM, and display the ROM version on the main screen.

You can now experiment and use the latest ROM image on virtual and physical hardware. When you compare performance of the ROM patch with the open ROM, I think you will agree, at present this is the better option. That is, until you purchase a MEGA65 which entitles you to download the closed ROM and thereby eliminates the need to continually patch ROMs.

## Final Thoughts

1. I should have shared this with or immediately after my posts on the [Xemu emulator](https://www.stevencombs.com/xemu-on-mac) or [Nexys4 FPGA](https://www.stevencombs.com/mega65-nexys4-livestream). I had a couple of folks share their frustration with the open ROM on these platforms.
2. Let's chat about the legal aspect of this process.

## Join the Fun

Don't miss the retro-computing fun. <font color="red">SUBSCRIBE</font> to my [YouTube channel](https://www.youtube.com/stevencombs) and check out [my other posts](https://www.stevencombs.com).

Help make this content better! Leave your comments, corrections, additions, and thoughts in the comments below. You can email me at [retrocombs@icloud.com](mailto:retrocombs@icloud.com). Thanks for reading and if you are inclined, please let others know about the blog using the hashtag #retroCombs.

üïπÔ∏è retroCombs, OUT!
